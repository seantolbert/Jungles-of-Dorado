{% extends "base.html" %} 
{% load static wagtailcore_tags wagtailimages_tags %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home/home_page.css' %}" />
{% endblock %} 

{% block content %}
<main>
  {% image page.background_img original as photo %}
  <div class="home-background" style="background-image: url({{photo.url}});"></div>
  <div class="header-container">
    <div class="headline">{{page.headline}}</div>
    <div class="subheadline">{{page.sub_headline}}</div>
  </div>

  {% for block in page.above_posts %}
    {% if block.block_type == 'heading' %}
      <div class="block-{{block.block_type}}">
        {{block.value}}
      </div>
      
    {% elif block.block_type == 'image' %}
      <div class="block-{{block.block_type}}">
        {% image block.value.image max-700x600 as photo %}
        <img src="{{photo.url}}" alt="Update" />
      </div>

    {% elif block.block_type == 'image2' %}
      <div class="block-{{block.block_type}}">
        {% image block.value.image max-700x600 as photo %}
        <img src="{{photo.url}}" alt="Update" />
      </div>

    {% else %}
      <div class="block-{{block.block_type}}">
        {{block.value}}
      </div>

    {% endif %}
  {% endfor %}

  <div class="cards">
    {% for blog in page.blogs %} 
    {% image blog.specific.main_image min-580x370 as photo %}
    <div class="card" style="background: url({{photo.url}}) no-repeat 50% 50%;">
      <a href="{% pageurl blog.specific %}">
        <div class="card-container">
          <div class="card-heading">{{blog.specific.title}}</div>
          {% if blog.specific.description %}
          <div class="blog-description__container">
            <div class="blog-description">{{blog.specific.description}}</div>
          </div>
          {% endif %}
          <div class="row">
            <a href="{% pageurl blog.specific %}" class="card-button"> Read </a>
            <div class="card-date">{{blog.specific.date}}</div>
          </div>
        </div>
      </a>
    </div>
    {% endfor %}
  </div>

  {% for block in page.below_posts %}
  {% if block.block_type == 'heading' %}
    <div class="stream__header">
      {{block.value}}
    </div>
    
  {% elif block.block_type == 'image' %}
    <div class="block-{{block.block_type}}">
      {% image block.value.image max-700x600 as photo %}
      <img src="{{photo.url}}" alt="Update" />
    </div>

  {% elif block.block_type == 'image2' %}
    <div class="block-{{block.block_type}}">
      {% image block.value.image max-700x600 as photo2 %}
      <img src="{{photo2.url}}" alt="Update" />
    </div>

  {% else %}
    <div class="block-{{block.block_type}}">
      {{block.value}}
    </div>

  {% endif %}
{% endfor %}

</main>

{% endblock content %}
